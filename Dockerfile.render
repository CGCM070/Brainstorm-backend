# Usar la imagen precompilada nativa basada en Debian
FROM ghcr.io/cgcm070/brainstorm-backend:docker-startup-native

# Cambiar al directorio de trabajo correcto
WORKDIR /app

# No necesitamos chmod, el binario ya tiene permisos de ejecución

# Verificar que el binario existe (opcional)
RUN ls -la /app/

# Render requiere que el puerto sea configurable
EXPOSE $PORT

# Ejecutar aplicación nativa con ruta absoluta
ENTRYPOINT ["/app/app"]
