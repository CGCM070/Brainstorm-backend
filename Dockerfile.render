# Usar la imagen pre-compilada con Debian runtime
FROM ghcr.io/cgcm070/brainstorm-backend:docker-startup-native

WORKDIR /app

# Verificar que el binario existe y tiene permisos de ejecución (opcional)
RUN [ -x /app/app ]

# Puerto dinámico que asigna Render
EXPOSE $PORT

# Ejecutar la aplicación nativa
ENTRYPOINT ["/app/app"]
